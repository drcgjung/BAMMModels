@prefix xsd: <http://www.w3.org/2001/XMLSchema#>.
@prefix bamm: <urn:bamm:io.openmanufacturing:meta-model:1.0.0#>.
@prefix unit: <urn:bamm:io.openmanufacturing:unit:1.0.0#>.
@prefix bamm-c: <urn:bamm:io.openmanufacturing:characteristic:1.0.0#>.
@prefix bamm-e: <urn:bamm:io.openmanufacturing:entity:1.0.0#>.
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#>.
@prefix : <urn:bamm:com.catenax.idconversion:0.1.0#>.

:IdConversion a bamm:Aspect;
bamm:name "IdConversion";
bamm:properties ();
bamm:operations ( :Convert );
bamm:description "The IdConversion aspect deals with the Conversion of (vehicle) Identifiers like VINs to Pseudonyms in an OEM domain (VANs, UUIDs and other concepts) and vice versa. As there are multiple options for representing Identifiers and performing Pseudonymization, this model use a key/value pairs."@en;
bamm:preferredName "Id Conversion"@en.

:Convert a bamm:Operation;
bamm:name "Convert";
bamm:preferredName "Convert"@en;
bamm:description "The Convert operation converts from Identifiers or Pseudonyms into Pseudonyms or Identifiers of the respective domains."@en;
bamm:input (:vin);
bamm:output :conversionOutput .

:vin a bamm:Property;
bamm:name "vin";
bamm:preferredName "VIN"@en;
bamm:description "VIN (vehicle identification number)"@en;
bamm:characteristic :VinTrait .

:VinCharacteristic a bamm:Characteristic;
bamm:name "VinCharacteristic";
bamm:description "Characteristic for the format of a VIN (vehicle identification number) which is an alpha-numerical value string with 17 characters excluding the characters I, O and Q to avoid confusion with the digits 1 and 0."@en;
bamm:see <https://en.wikipedia.org/wiki/Vehicle_identification_number>;
bamm:dataType xsd:string .

:VinTrait a bamm-c:Trait;
bamm:name "VinTrait";
bamm:description "Trait to ensure the valid format for a VIN (vehicle identification number). which is an alpha-numerical value string with 17 characters excluding the characters I, O and Q to avoid confusion with the digits 1 and 0."@en;
bamm-c:constraint :VinRegExConstraint;
bamm-c:baseCharacteristic :VinCharacteristic .

:VinRegExConstraint a bamm-c:RegularExpressionConstraint;
bamm:name "VinRegExConstraint";
bamm:preferedName "Vin Regular Expression Constraint"@en;
bamm:description "VinRegExConstraint is a regular expression constraint for the format of a VIN (vehicle identification number)."@en;
bamm:value "^[a-hj-npr-zA-HJ-NPR-Z0-9]{17,17}$".

:conversionOutput a bamm:Property;
bamm:name "conversionOutput";
bamm:preferredName "conversion output"@en;
bamm:description "The conversionOutput is the output of a conversion operation containing information about the anonymized vehicle identification."@en;
bamm:characteristic :ConversionOutputCharacteristic .

:ConversionOutputCharacteristic a bamm:Characteristic;
bamm:name "conversionOutputCharacteristic";
bamm:description "ConversionOutputCharacteristic is a characteristic describing the output of a conversion from a VIN."@en;
bamm:dataType :ConversionOutputEntity .

:ConversionOutputEntity a bamm:Entity;
bamm:name "conversionOutputEntity";
bamm:description "ConversionOutputEntity is an entity for the output of a conversion."@en;
bamm:properties (:key :value) .

:key a bamm:Property;
bamm:name "key";
bamm:description "The key is type of anonymized vehicle identification in the value property."@en;
bamm:characteristic :KeyValues .

:KeyValues a bamm-c:Enumeration;
bamm:name "keyValues";
bamm:description "The KeyValues list the possible values for the key in the conversion output."@en;
bamm:dataType xsd:string;
bamm-c:values ("PartnerInstanceID" "identification" "globalAssetId" "VAN") .

:value a bamm:Property;
bamm:name "value";
bamm:description "The value property is the anonymized identification number of the vehicle. The format and type of the value depends on the value of the key property."@en;
bamm:characteristic bamm-c:Text .

